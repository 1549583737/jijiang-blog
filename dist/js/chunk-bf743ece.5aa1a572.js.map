{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/es6.object.freeze.js","webpack:///./node_modules/core-js/modules/es6.weak-map.js","webpack:///./src/views/vue3/proxy/proxy.vue?3af6","webpack:///./src/views/vue3/proxy/proxy.vue?d984","webpack:///./src/views/vue3/proxy/proxy.vue?3a01","webpack:///./src/views/vue3/proxy/proxy.vue","webpack:///./node_modules/core-js/modules/es6.regexp.split.js","webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/_collection-weak.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/createClass.js","webpack:///./node_modules/core-js/modules/_validate-collection.js","webpack:///./src/views/vue3/proxy/reactive.ts","webpack:///./node_modules/core-js/modules/_collection-strong.js","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/es6.reflect.get.js","webpack:///./node_modules/core-js/modules/_collection.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./src/views/vue3/effect/effect.ts","webpack:///./node_modules/core-js/modules/es6.map.js"],"names":["ctx","IObject","toObject","toLength","asc","module","exports","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","length","index","result","undefined","push","isObject","meta","onFreeze","$freeze","it","InternalMap","global","each","redefine","assign","weak","validate","NATIVE_WEAK_MAP","IS_IE11","ActiveXObject","WEAK_MAP","getWeak","isExtensible","Object","uncaughtFrozenStore","ufstore","wrapper","get","this","arguments","methods","key","data","_i","set","value","def","$WeakMap","getConstructor","prototype","NEED","proto","method","a","b","_f","call","render","_vm","_h","$createElement","_self","_c","_m","staticRenderFns","attrs","msg","default","createApp","reactive","effect","App","setup","react","c","d","e","num","console","log","mount","component","isRegExp","anObject","speciesConstructor","advanceStringIndex","callRegExpExec","regexpExec","fails","$min","Math","min","$push","$SPLIT","LENGTH","LAST_INDEX","MAX_UINT32","SUPPORTS_Y","RegExp","defined","SPLIT","$split","maybeCallNative","internalSplit","separator","limit","string","String","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","splitLimit","separatorCopy","source","slice","apply","test","splitter","regexp","done","rx","S","C","unicodeMatching","lim","p","q","A","z","i","strong","SET","add","setPrototypeOf","target","P","constructor","$at","iterated","_t","point","$export","core","KEY","exec","fn","exp","F","redefineAll","anInstance","forOf","createArrayMethod","$has","arrayFind","arrayFindIndex","id","_l","UncaughtFrozenStore","findUncaughtFrozen","store","entry","has","splice","NAME","ADDER","iterable","check","TypeError","buggy","Function","Array","__proto__","cof","MATCH","$iterators","getKeys","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","_defineProperties","props","descriptor","enumerable","configurable","writable","_createClass","Constructor","protoProps","staticProps","rawToReactive","WeakMap","reactiveToRaw","OperationTypes","targetMap","app","el","nodes","document","querySelector","children","$data","_compile","Dep","deps","watcher","notify","forEach","update","_watcher","node","attr","mutationKeys","split","observed","handler","receiver","Reflect","Proxy","Map","theNode","tagName","hasAttribute","getAttribute","addEventListener","eval","dP","$iterDefine","step","setSpecies","DESCRIPTORS","fastKey","SIZE","getEntry","n","k","clear","r","next","prev","v","setStrong","kind","_k","original","gOPD","getPrototypeOf","propertyKey","desc","$iterDetect","setToStringTag","inheritIfRequired","common","IS_WEAK","Base","fixMethod","entries","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","iter","BUGGY_ZERO","$instance","G","W","isArray","SPECIES","activeReactiveEffectStack","EMPTY_OBJ","freeze","track","depsMap","dep","Set","trigger","effects","options","isEffect","raw","createReactiveEffect","lazy","args","run","active","scheduler","onTrack","onTrigger","onStop","computed","indexOf","pop","MAP"],"mappings":"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","file":"js/chunk-bf743ece.5aa1a572.js","sourcesContent":["// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","'use strict';\nvar global = require('./_global');\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar validate = require('./_validate-collection');\nvar NATIVE_WEAK_MAP = require('./_validate-collection');\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"my-app\"}},[_c('input'),_c('h1',{attrs:{\"c-bind\":\"a.b.c.d.e\"}}),_c('input',{attrs:{\"c-model\":\"a.b.c.d.e\",\"type\":\"text\"}})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from \"vue-property-decorator\";\n\n@Component\nexport default class Proxy extends Vue {\n  private msg: string = \"proxy\";\n  mounted() {\n    const { createApp, reactive } = require(\"./reactive.ts\").default;\n    const { effect } = require(\"../effect/effect.ts\");\n    const App = {\n      setup() {\n        const react = reactive({\n          a: {\n            b: {\n              c: {\n                d: {\n                  e: 222\n                }\n              }\n            }\n          }\n        });\n        // setTimeout(() => {\n        //   react.a.b.c.d.e = \"444\";\n        //   let count = 0;\n        //   const timer = setInterval(() => {\n        //     react.a.b.c.d.e = ++ count;\n        //     if (count == 10) clearInterval(timer);\n        //   }, 100);\n        // }, 100);\n        let num = 0\n        effect(() => {\n          num = react.a.b.c.d.e\n        })\n        console.log(num)\n        react.a.b.c.d.e = 333\n        console.log(num)\n\n        return react;\n      }\n    };\n    createApp().mount(App, \"#my-app\");\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxy.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxy.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./proxy.vue?vue&type=template&id=0c203911&\"\nimport script from \"./proxy.vue?vue&type=script&lang=ts&\"\nexport * from \"./proxy.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","import _Object$defineProperty from \"../../core-js/object/define-property\";\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n\n    _Object$defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","interface Dep {\n  deps: any[];\n  add(watcher: any): void;\n}\n\ninterface Watcher {\n  node: any;\n  attr: string;\n  data: any;\n  key: string;\n  update(): void;\n}\n\nimport { trigger, track } from '../effect/effect'\n\nconst isObject = (val: any): val is Record<any, any> =>\n  val !== null && typeof val === 'object';\n\nconst rawToReactive: WeakMap<any, any> = new WeakMap();\nconst reactiveToRaw: WeakMap<any, any> = new WeakMap();\n\nexport const enum OperationTypes {\n  SET = 'set',\n  ADD = 'add',\n  DELETE = 'delete',\n  CLEAR = 'clear',\n  GET = 'get',\n  HAS = 'has',\n  ITERATE = 'iterate'\n}\nexport const targetMap: WeakMap<any, any> = new WeakMap();\nexport default {\n  createApp() {\n    return {\n      mount(app: any, el: any) {\n        let data = app.setup();\n        // 获取模版节点\n        const nodes: HTMLElementTagNameMap[] = document.querySelector(el)\n          .children;\n        // 将data设置代理并返回代理对象赋值给$data\n        const $data = data;\n        // 编译模板\n        _compile(nodes, $data);\n      }\n    };\n  },\n  reactive\n};\n\n// 收集watcher依赖\nconst Dep: Dep = {\n  deps: [],\n  add(watcher: Watcher) {\n    this.deps.push(watcher);\n  }\n};\n\n// 通知\nfunction notify () {\n  Dep.deps.forEach((e: Watcher) => {\n    e.update();\n  });\n}\n\n// observer跟compile的桥梁，在编译时添加watcher，在数据更新时触发update更新视图\nfunction _watcher(node: any, attr: string, data: any, key: string): Watcher {\n  return {\n    node,\n    attr,\n    data,\n    key,\n    update() {\n      // 逐层取值\n      const mutationKeys = this.key.split('.');\n      if (mutationKeys.length > 1) {\n        let d: any = null;\n        mutationKeys.forEach(key => (d = this.data[key] || (d && d[key])));\n        this.node[this.attr] = d;\n        return;\n      }\n      this.node[this.attr] = this.data[this.key];\n    }\n  };\n}\n// reactive用来监听data\n// 如有发生变动就会触发set方法，拿到最新值通知订阅者\nfunction reactive(data: any) {\n  // 已经有代理\n  let observed = rawToReactive.get(data);\n  if (observed !== void 0) {\n    return observed;\n  }\n  // 这个数据已经是代理\n  if (reactiveToRaw.has(data)) {\n    return data;\n  }\n  const handler = {\n    get: function(target: any, key: string, receiver: any) {\n      const res = Reflect.get(target, key, receiver);\n      if (isObject(res)) {\n        data[key] = data[key] = reactive(res);\n      }\n      track(target, key);\n      return target[key];\n    },\n    set: function(target: any, key: string, value: any) {\n      // 将新值赋值\n      target[key] = value;\n      // 通知所有订阅者触发更新\n      notify()\n      trigger(target, key)\n      // 严格模式下需要设置返回值，否则会报错\n      return value;\n    }\n  };\n  // 返回代理监听对象\n  observed = new Proxy(data, handler as any);\n  rawToReactive.set(data, observed);\n  reactiveToRaw.set(observed, data);\n\n  if (!targetMap.has(data)) {\n    targetMap.set(data, new Map());\n  }\n  return observed;\n}\n\n// 编译模板\nfunction _compile(nodes: any, $data: any) {\n  [...nodes].forEach((e, index) => {\n    const theNode = nodes[index];\n    // 获取到 input标签下的 c-model 属性，并添加watcher\n    if (theNode.tagName === 'INPUT' && theNode.hasAttribute('c-model')) {\n      const key = theNode.getAttribute('c-model');\n      Dep.add(_watcher(theNode, 'value', $data, key));\n      // 监听input事件\n      theNode.addEventListener('input', () => {\n        const mutationKeys = key.split('.');\n        if (mutationKeys.length > 1) {\n          eval(`$data.${key}='${theNode.value}'`);\n          return;\n        }\n        $data[key] = theNode.value;\n      });\n    }\n    // 获取 c-bind 属性，并添加watcher\n    if (theNode.hasAttribute('c-bind')) {\n      const key = theNode.getAttribute('c-bind');\n      Dep.add(_watcher(theNode, 'innerHTML', $data, key));\n    }\n  });\n  notify()\n}\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\n\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var desc, proto;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', { get: get });\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","import { targetMap } from '../proxy/reactive'\n// 储存effect容器\nconst activeReactiveEffectStack: any[] = [];\nconst EMPTY_OBJ: { readonly [key: string]: any } = Object.freeze({})\n\n// 追踪器，在 get 时调用该函数，将所有 get 的 target 跟 key 以及 effect 建立起对应关系\n// 比如 const react = reactive({a: { b: 2 })\n// react.a 时 target -> {a: { b: 2 } key -> a \n// targetMap 储存了 target --> Map --> key --> Set --> dep --> effect \n// 当调用 react.a.b.c.d.e 时 depsMap\n// {\"a\" => Set(1)} --> Set --> effect\n// {\"b\" => Set(1)}\n// {\"c\" => Set(1)}\n// {\"d\" => Set(1)}\n// {\"e\" => Set(1)}\nexport function track(target: any, key: string) {\n  const effect = activeReactiveEffectStack[activeReactiveEffectStack.length - 1];\n  if (effect) {\n    let depsMap = targetMap.get(target);\n    if (depsMap === void 0) {\n      targetMap.set(target, (depsMap = new Map()));\n    }\n    let dep = depsMap.get(key!);\n    if (!dep) {\n      depsMap.set(key!, (dep = new Set()));\n    }\n    if (!dep.has(effect)) {\n      dep.add(effect);\n      effect.deps.push(dep);\n    }\n  }\n}\n// 触发器，这个就比较好理解了，拿到target key下的对应的所有 effect，\n// 然后遍历执行 effect()\nexport function trigger(target: any, key?: string | symbol) {\n  const depsMap: any = targetMap.get(target);\n  const effects: any = new Set()\n  if (depsMap && depsMap.get(key)) {\n    depsMap.get(key).forEach((dep: any) => {\n      effects.add(dep)\n    });\n    effects.forEach((e: any) => e())\n  }\n}\n\n// 暴露的 effect 函数\nexport function effect(\n  fn: Function,\n  options: any = EMPTY_OBJ\n): any {\n  if ((fn as any).isEffect) {\n    fn = (fn as any).raw\n  }\n  const effect = createReactiveEffect(fn, options)\n  // 如果不是 lazy，则会立即执行一次\n  if (!options.lazy) {\n    effect()\n  }\n  return effect\n}\n\n// 创建 effect\nfunction createReactiveEffect(\n  fn: Function,\n  options: any\n): any {\n  const effect = function effect(...args: any): any {\n    return run(effect as any, fn, args)\n  } as any\n  effect.isEffect = true\n  effect.active = true\n  effect.raw = fn\n  effect.scheduler = options.scheduler\n  effect.onTrack = options.onTrack\n  effect.onTrigger = options.onTrigger\n  effect.onStop = options.onStop\n  effect.computed = options.computed\n  effect.deps = []\n  return effect\n}\n\n// 执行函数，执行完之后会将储存的 effect 删除\n// 这是函数 effect 的所有执行，所经历的完整的声明周期\nfunction run(effect: any, fn: Function, args: any[]): any {\n  if (!effect.active) {\n    return fn(...args)\n  }\n  if (activeReactiveEffectStack.indexOf(effect) === -1) {\n    try {\n      activeReactiveEffectStack.push(effect)\n      return fn(...args)\n    } finally {\n      activeReactiveEffectStack.pop()\n    }\n  }\n}\n\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n"],"sourceRoot":""}